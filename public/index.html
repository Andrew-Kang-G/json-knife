<html>

<style>

</style>

<body>


<div class="container">

    <div class="backdrop">
        <div class="highlights">Test codes. Check console.</div>
    </div>
</div>


<script class="jsbin" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="../dist/json-knife.bundle.js"></script>
<script type="text/javascript">

    let sample = '[\n' +
        '  {\n' +
        '    "_id": "5e1964befca4312d16c47df8",\n' +
        '    "index": 0,\n' +
        '    "guid": "6b09ec59-8480-48b3-845f-e2e28bb4a376",\n' +
        '    "isActive": false,\n' +
        '    "balance": "$1,167.30",\n' +
        '    "picture": "http://placehold.it/32x32",\n' +
        '    "age": 20,\n' +
        '    "eyeColor": "green",\n' +
        '    "name": "Alston Workman",\n' +
        '    "gender": "male",\n' +
        '    "company": "UNI",\n' +
        '    "email": "alstonworkman@uni.com",\n' +
        '    "phone": "+1 (841) 546-3321",\n' +
        '    "address": "794 Grace Court, Gardiner, Federated States Of Micronesia, 202",\n' +
        '    "about": "Deserunt deserunt do cillum quis pariatur in ut incididunt ea aute non dolore qui ea. Commodo est excepteur fugiat amet sunt nostrud quis sit non ipsum non ipsum. Fugiat et incididunt occaecat Lorem magna eiusmod veniam minim dolore aliqua.\\r\\n",\n' +
        '    "registered": "2015-03-16T07:24:30 -09:00",\n' +
        '    "latitude": 11.193753,\n' +
        '    "longitude": -35.551035,\n' +
        '    "tags": [\n' +
        '      "nulla",\n' +
        '      "duis",\n' +
        '      "consequat",\n' +
        '      "laborum",\n' +
        '      "eiusmod",\n' +
        '      "ex",\n' +
        '      "aute"\n' +
        '    ],\n' +
        '    "friends": [\n' +
        '      {\n' +
        '        "id": 0,\n' +
        '        "name": "Lottie Henderson"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 1,\n' +
        '        "name": "Peggy Barrera"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 2,\n' +
        '        "name": "Celina Aguirre"\n' +
        '      }\n' +
        '    ],\n' +
        '    "greeting": "Hello, Alston Workman! You have 7 unread messages.",\n' +
        '    "favoriteFruit": "apple"\n' +
        '  },\n' +
        '  {\n' +
        '    "_id": "5e1964be55c5253170e6e15b",\n' +
        '    "index": 1,\n' +
        '    "guid": "ed9a876b-7e51-4963-bb14-4d1bd1545f55",\n' +
        '    "isActive": false,\n' +
        '    "balance": "$1,981.30",\n' +
        '    "picture": "http://placehold.it/32x32",\n' +
        '    "age": 40,\n' +
        '    "eyeColor": "green",\n' +
        '    "name": "Peterson Fowler",\n' +
        '    "gender": "male",\n' +
        '    "company": "CEMENTION",\n' +
        '    "email": "petersonfowler@cemention.com",\n' +
        '    "phone": "+1 (893) 506-2780",\n' +
        '    "address": "316 School Lane, Smock, Northern Mariana Islands, 6348",\n' +
        '    "about": "Velit ullamco commodo deserunt dolore. Enim cupidatat sunt enim eiusmod do voluptate voluptate velit dolor velit esse exercitation laborum sint. Irure deserunt non anim nulla aliqua laborum pariatur dolor. Elit velit ad tempor Lorem ea laborum magna. Amet id eiusmod ex labore exercitation aliquip dolore deserunt occaecat magna tempor reprehenderit ea occaecat. Veniam eu culpa qui nostrud tempor ad mollit culpa proident. Laborum nisi consectetur dolore sint enim est occaecat.\\r\\n",\n' +
        '    "registered": "2016-11-25T09:54:54 -09:00",\n' +
        '    "latitude": 79.293056,\n' +
        '    "longitude": -7.624858,\n' +
        '    "tags": [\n' +
        '      "ex",\n' +
        '      "cupidatat",\n' +
        '      "dolor",\n' +
        '      "mollit",\n' +
        '      "cillum",\n' +
        '      "est",\n' +
        '      "voluptate"\n' +
        '    ],\n' +
        '    "friends": [\n' +
        '      {\n' +
        '        "id": 0,\n' +
        '        "name": "Leslie Walsh"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 1,\n' +
        '        "name": "Carol Schroeder"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 2,\n' +
        '        "name": "Jayne Ray"\n' +
        '      }\n' +
        '    ],\n' +
        '    "greeting": "Hello, Peterson Fowler! You have 4 unread messages.",\n' +
        '    "favoriteFruit": "strawberry"\n' +
        '  },\n' +
        '  {\n' +
        '    "_id": "5e1964be0f3ce8405223b0a3",\n' +
        '    "index": 2,\n' +
        '    "guid": "024ea4e4-001c-46ca-b99e-18c990d8c8ba",\n' +
        '    "isActive": false,\n' +
        '    "balance": "$2,006.85",\n' +
        '    "picture": "http://placehold.it/32x32",\n' +
        '    "age": 27,\n' +
        '    "eyeColor": "green",\n' +
        '    "name": "Petty Fry",\n' +
        '    "gender": "male",\n' +
        '    "company": "CODACT",\n' +
        '    "email": "pettyfry@codact.com",\n' +
        '    "phone": "+1 (811) 574-2476",\n' +
        '    "address": "782 Kane Street, Cloverdale, Nevada, 9153",\n' +
        '    "about": "Cillum minim mollit velit do irure officia duis nulla eu cillum non. Eu ipsum consequat duis adipisicing cillum labore anim est et. Commodo cillum ea tempor consectetur anim duis. Voluptate aute deserunt reprehenderit commodo. Ullamco dolor mollit dolore mollit amet nostrud dolore esse est ut labore eiusmod consectetur nostrud. Eiusmod proident exercitation consectetur fugiat esse amet duis ullamco laborum et esse sint esse elit. Sint labore nisi incididunt in sunt esse consectetur id labore.\\r\\n",\n' +
        '    "registered": "2018-06-25T11:56:27 -09:00",\n' +
        '    "latitude": 11.506821,\n' +
        '    "longitude": 73.051341,\n' +
        '    "tags": [\n' +
        '      "enim",\n' +
        '      "dolore",\n' +
        '      "dolor",\n' +
        '      "do",\n' +
        '      "quis",\n' +
        '      "adipisicing",\n' +
        '      "eiusmod"\n' +
        '    ],\n' +
        '    "friends": [\n' +
        '      {\n' +
        '        "id": 0,\n' +
        '        "name": "Frye Foley"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 1,\n' +
        '        "name": "Mejia Maddox"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 2,\n' +
        '        "name": "Tara Day"\n' +
        '      }\n' +
        '    ],\n' +
        '    "greeting": "Hello, Petty Fry! You have 9 unread messages.",\n' +
        '    "favoriteFruit": "apple"\n' +
        '  },\n' +
        '  {\n' +
        '    "_id": "5e1964be6c2fe9252fb08279",\n' +
        '    "index": 3,\n' +
        '    "guid": "165c6f1e-65a4-4e5f-8e41-d13887bfd891",\n' +
        '    "isActive": true,\n' +
        '    "balance": "$3,928.86",\n' +
        '    "picture": "http://placehold.it/32x32",\n' +
        '    "age": 39,\n' +
        '    "eyeColor": "blue",\n' +
        '    "name": "Foley Byers",\n' +
        '    "gender": "male",\n' +
        '    "company": "BYTREX",\n' +
        '    "email": "foleybyers@bytrex.com",\n' +
        '    "phone": "+1 (870) 436-3648",\n' +
        '    "address": "680 Court Street, Westphalia, New York, 668",\n' +
        '    "about": "Aliqua labore in dolore laboris excepteur mollit magna. Exercitation aute cillum laborum et velit quis fugiat do culpa commodo quis id cupidatat occaecat. Qui aliqua mollit qui aute tempor voluptate exercitation velit nisi et. Amet laborum esse nulla incididunt ut non magna anim veniam. Qui ipsum excepteur elit labore velit.\\r\\n",\n' +
        '    "registered": "2019-03-24T06:37:36 -09:00",\n' +
        '    "latitude": 64.494659,\n' +
        '    "longitude": 140.356389,\n' +
        '    "tags": [\n' +
        '      "aliqua",\n' +
        '      "quis",\n' +
        '      "culpa",\n' +
        '      "id",\n' +
        '      "tempor",\n' +
        '      "veniam",\n' +
        '      "occaecat"\n' +
        '    ],\n' +
        '    "friends": [\n' +
        '      {\n' +
        '        "id": 0,\n' +
        '        "name": "Compton Gentry"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 1,\n' +
        '        "name": "Stacie Brennan"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 2,\n' +
        '        "name": "Dunn Gill"\n' +
        '      }\n' +
        '    ],\n' +
        '    "greeting": "Hello, Foley Byers! You have 2 unread messages.",\n' +
        '    "favoriteFruit": "strawberry"\n' +
        '  },\n' +
        '  {\n' +
        '    "_id": "5e1964be39967c1261b3c1a6",\n' +
        '    "index": 4,\n' +
        '    "guid": "ffd7fb70-587b-4f91-b332-c553408547ad",\n' +
        '    "isActive": false,\n' +
        '    "balance": "$1,036.17",\n' +
        '    "picture": "http://placehold.it/32x32",\n' +
        '    "age": 39,\n' +
        '    "eyeColor": "green",\n' +
        '    "name": "Kenya Sharpe",\n' +
        '    "gender": "female",\n' +
        '    "company": "HATOLOGY",\n' +
        '    "email": "kenyasharpe@hatology.com",\n' +
        '    "phone": "+1 (813) 505-3497",\n' +
        '    "address": "845 Vanderbilt Street, Elbert, Tennessee, 1300",\n' +
        '    "about": "Dolore do dolor pariatur laboris laborum. Ullamco non culpa cupidatat consectetur labore occaecat culpa consequat quis Lorem commodo. Deserunt pariatur dolore aliqua enim. Ex ut esse cillum id adipisicing fugiat aliquip. Sit anim ex enim reprehenderit enim officia ut do. Do mollit ad ex commodo.\\r\\n",\n' +
        '    "registered": "2019-06-22T09:11:49 -09:00",\n' +
        '    "latitude": 21.478021,\n' +
        '    "longitude": -148.820357,\n' +
        '    "tags": [\n' +
        '      "aute",\n' +
        '      "incididunt",\n' +
        '      "sint",\n' +
        '      "est",\n' +
        '      "est",\n' +
        '      "mollit",\n' +
        '      "nulla"\n' +
        '    ],\n' +
        '    "friends": [\n' +
        '      {\n' +
        '        "id": 0,\n' +
        '        "name": "Maricela Britt"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 1,\n' +
        '        "name": "Meredith Hunt"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 2,\n' +
        '        "name": "Casey Barlow"\n' +
        '      }\n' +
        '    ],\n' +
        '    "greeting": "Hello, Kenya Sharpe! You have 1 unread messages.",\n' +
        '    "favoriteFruit": "strawberry"\n' +
        '  },\n' +
        '  {\n' +
        '    "_id": "5e1964bed8e8292f0e2d7c38",\n' +
        '    "index": 5,\n' +
        '    "guid": "4f9b2b9b-e514-4034-b63b-71188a864ab1",\n' +
        '    "isActive": true,\n' +
        '    "balance": "$1,937.28",\n' +
        '    "picture": "http://placehold.it/32x32",\n' +
        '    "age": 40,\n' +
        '    "eyeColor": "brown",\n' +
        '    "name": "Rosa Watson",\n' +
        '    "gender": "female",\n' +
        '    "company": "VALREDA",\n' +
        '    "email": "rosawatson@valreda.com",\n' +
        '    "phone": "+1 (932) 585-2479",\n' +
        '    "address": "442 Harrison Avenue, Kylertown, Mississippi, 7802",\n' +
        '    "about": "Ad non laboris proident qui aliquip. Anim adipisicing eiusmod in fugiat sint elit nulla occaecat Lorem est. Tempor mollit eu voluptate veniam pariatur reprehenderit. Duis sit deserunt velit ut enim excepteur anim. Ut amet ut consequat adipisicing Lorem quis. Anim occaecat voluptate nisi ex labore sint tempor aute tempor.\\r\\n",\n' +
        '    "registered": "2016-07-29T11:14:01 -09:00",\n' +
        '    "latitude": -38.367889,\n' +
        '    "longitude": -49.64827,\n' +
        '    "tags": [\n' +
        '      "cupidatat",\n' +
        '      "ad",\n' +
        '      "excepteur",\n' +
        '      "esse",\n' +
        '      "culpa",\n' +
        '      "do",\n' +
        '      "enim"\n' +
        '    ],\n' +
        '    "friends": [\n' +
        '      {\n' +
        '        "id": 0,\n' +
        '        "name": "Robinson Dixon"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 1,\n' +
        '        "name": "Haney Donovan"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 2,\n' +
        '        "name": "Jan Cook"\n' +
        '      }\n' +
        '    ],\n' +
        '    "greeting": "Hello, Rosa Watson! You have 4 unread messages.",\n' +
        '    "favoriteFruit": "apple"\n' +
        '  },\n' +
        '  {\n' +
        '    "_id": "5e1964bee4b8cd9773b048c6",\n' +
        '    "index": 6,\n' +
        '    "guid": "7a6a347c-44c5-4d65-92c4-bab9870f1780",\n' +
        '    "isActive": false,\n' +
        '    "balance": "$3,795.04",\n' +
        '    "picture": "http://placehold.it/32x32",\n' +
        '    "age": 20,\n' +
        '    "eyeColor": "brown",\n' +
        '    "name": "Trevino Melendez",\n' +
        '    "gender": "male",\n' +
        '    "company": "COSMETEX",\n' +
        '    "email": "trevinomelendez@cosmetex.com",\n' +
        '    "phone": "+1 (851) 574-2199",\n' +
        '    "address": "767 Jay Street, Boyd, North Dakota, 563",\n' +
        '    "about": "Eiusmod amet laborum id esse consequat laborum aliquip occaecat. Nisi ullamco adipisicing veniam do veniam ad adipisicing pariatur. Labore labore ex Lorem nulla enim quis magna exercitation eu Lorem velit culpa. Officia culpa occaecat culpa voluptate non qui magna esse duis ex est pariatur veniam.\\r\\n",\n' +
        '    "registered": "2015-02-16T09:03:04 -09:00",\n' +
        '    "latitude": 56.654585,\n' +
        '    "longitude": -101.466947,\n' +
        '    "tags": [\n' +
        '      "nulla",\n' +
        '      "magna",\n' +
        '      "duis",\n' +
        '      "do",\n' +
        '      "enim",\n' +
        '      "laborum",\n' +
        '      "elit"\n' +
        '    ],\n' +
        '    "friends": [\n' +
        '      {\n' +
        '        "id": 0,\n' +
        '        "name": "Banks Horton"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 1,\n' +
        '        "name": "Burch Cooper"\n' +
        '      },\n' +
        '      {\n' +
        '        "id": 2,\n' +
        '        "name": "Gilmore Stark"\n' +
        '      }\n' +
        '    ],\n' +
        '    "greeting": "Hello, Trevino Melendez! You have 10 unread messages.",\n' +
        '    "favoriteFruit": "banana"\n' +
        '  }\n' +
        ']';

    let original = '{\n' +
        '        "prob\\"lems": [{\n' +
        '            "classes": [{\n' +
        '                "medications": [{\n' +
        '                    "medicationsClasses": [{\n' +
        '                        "Mike {[Gentleman]}": [{\n' +
        '                            "associatedDrug": [{\n' +
        '                                "name": "asprin",\n' +
        '                                "dose": "a",\n' +
        '                                "strength": "500 mg"\n' +
        '                            }],\n' +
        '                            "Mike {[Gentleman]}": [{\n' +
        '                                "name": "somethingElse",\n' +
        '                                "dose": "",\n' +
        '                                "strength": "500 mg",\n' +
        '                                "friends": {\n' +
        '                                    "self": {\n' +
        '                                        "Mike {[Gentleman]}": "33",\n' +
        '                                        "names": ["aa"]\n' +
        '                                    }\n' +
        '                                }\n' +
        '                            }]\n' +
        '                        }],\n' +
        '                        "Judy": [{\n' +
        '                            "associatedDrug": [{\n' +
        '                                "name": "asprin",\n' +
        '                                "dose": "",\n' +
        '                                "strength": "500 mg",\n' +
        '                                "friends": ["Mike {[Gentleman]}"]\n' +
        '                            }],\n' +
        '                            "associatedDrug#2": [{\n' +
        '                                "name": "somethingElse",\n' +
        '                                "dose": "",\n' +
        '                                "strength": "500 mg"\n' +
        '                            }],\n' +
        '                            "friends": [{"Mike {[Gentleman]}": null}, {"Mike {[Gentleman]}": [["c[ 3\\"5ool", 35], ["ca],[1\\"3lm"], 53]}, "Jackson", "Mike {[Gentleman]}"]\n' +
        '                        }]\n' +
        '                    }]\n' +
        '                }],\n' +
        '                "classNameMissed": [{\n' +
        '                    "Mike {[Gentleman]}": "missing_value"\n' +
        '                }]\n' +
        '            }],\n' +
        '            "className": [{}]\n' +
        '        }]\n' +
        '    }';

    let original2 = {
        "prob\"lems": [{
            "classes": [{
                "medications": [{
                    "medicationsClasses": [{
                        "Mike {[Gentleman]}": [{
                            "associatedDrug": [{
                                "name": "asprin",
                                "dose": 35.3,
                                "strength": "500 mg",
                                "className" : false
                            }],
                            "Mike {[Gentleman]}": [{
                                "name": "somethingElse",
                                "dose": "",
                                "strength": "500 mg",
                                "friends": {
                                    "self": {
                                        "Mike {[Gentleman]}": "33",
                                        "names": ["aa"]
                                    }
                                }
                            }]
                        }],
                        "Judy": [{
                            "associatedDrug": [{
                                "name": "asprin",
                                "dose": "",
                                "strength": "500 mg",
                                "friends": ["Mike {[Gentleman]}"]
                            }],
                            "associatedDrug#2": [{
                                "name": "somethingElse",
                                "dose": "",
                                "strength": "500 mg"
                            }],
                            "friends": [{"Mike {[Gentleman]}": null}, {"Mike {[Gentleman]}": [["c[ 3\"5" +
                                "ool", 35], ["ca],[1\"3lm"], 53]}, "Jackson", "Mike {[Gentleman]}"]
                        }]
                    }]
                }],
                "classNameMissed": [{
                    "Mike {[Gentleman]}": "missing_value"
                }]
            }],
            "className": [{}]
        }]
    };


    let src = JSON.stringify(JSON.parse(JSON.stringify(original2)));
    console.log('Initial parsed string');
    console.log(src);

    let re = Pattern.sculptJson(original, 'Mike {[Gentleman]}', null);

    let re1 = Pattern.sculptJson(src, 'Mike {[Gentleman]}', null);
    let re2 = Pattern.sculptJson(original, 'friends', 300);
    let re3 = Pattern.sculptJson(src, 'className', true);

    let re4 = Pattern.sculptJson(src, 'classNameMissed', 'this "ABC" met');

    let re5 = Pattern.sculptJson(src, 'dose', 15.333);

    console.log('String original : Mike {[Gentleman]}, null');
    console.log(re);
    JSON.parse(re);

    console.log('Parsed string : Mike {[Gentleman]}, null');
    console.log(re1);
    JSON.parse(re1)


    console.log('String original : friends, 300');
    console.log(re2);
    JSON.parse(re2);

    console.log('Parsed string  : className, true');
    console.log(re3);
    JSON.parse(re3);

    console.log('Parsed string  : classNameMissed, this "ABC" met');
    console.log(re4);
    JSON.parse(re4);

    console.log('String original  : dose, 15.333');
    console.log(re5);
    JSON.parse(re5);

</script>
</body>
</html>